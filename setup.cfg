# Copyright 2017 the Critic contributors, Opera Software ASA
#
# Licensed under the Apache License, Version 2.0 (the "License"); you may not
# use this file except in compliance with the License.  You may obtain a copy of
# the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
# License for the specific language governing permissions and limitations under
# the License.

[flake8]
max-line-length=88
ignore=
	E203
	# "missing whitespace around operator" (triggers sometimes, and since black
	# takes care of the formatting, it's pointless)
	E225
	# "expected 1 blank line before a nested definition, found 0"
	E306
	# "module level import not at top of file"
	E402
	W503
	# "line break after binary operator" (line-break after '/' in parameter list)
	W504
	# "redefinition of unused X" (triggers for overload definitions)
	F811
exclude=
	testing/tests/

[mypy]

[mypy-aiopg]
ignore_missing_imports=True

[mypy-ldap.*]
ignore_missing_imports=True

[mypy-msgpack.*]
ignore_missing_imports=True

[mypy-sshpubkeys]
ignore_missing_imports=True

[mypy-passlib.*]
ignore_missing_imports=True

[mypy-psycopg2.*]
ignore_missing_imports=True

[mypy-pygments.*]
ignore_missing_imports=True

[mypy-pygmentslexerbabylon]
ignore_missing_imports=True

[mypy-critic.dbaccess.*]
disallow_untyped_defs=True

[mypy-critic.api.*]
disallow_untyped_defs=True

[mypy-critic.gitaccess.*]
disallow_untyped_defs=True

[mypy-critic.jsonapi.*]
disallow_untyped_defs=True

[mypy-critic.background.*]
disallow_untyped_defs=True

[tool:pytest]
testpaths =
	src/critic
	tests
filterwarnings =
	ignore:The loop argument is deprecated:DeprecationWarning
norecursedirs =
	tests/fixtures
markers =
	enable_snapshot
